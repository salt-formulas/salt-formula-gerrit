
{%- load_yaml as server_defaults %}
Debian:
  pkgs:
  - unzip
  - gitweb
  dir:
    home: "/srv/gerrit"
    site: "/srv/gerrit/review_site"
  service: gerrit
  reindex_threads: 1
{%- endload %}

{%- set server = salt['grains.filter_by'](server_defaults, merge=salt['pillar.get']('gerrit:server')) %}

{%- load_yaml as client_defaults %}
Debian:
  pkgs:
  - python-gerritlib
{%- endload %}

{%- set client = salt['grains.filter_by'](client_defaults, merge=salt['pillar.get']('gerrit:client')) %}
